@* Copyright 2014-2017 Fabian Steeg, hbz. Licensed under the EPL 2.0 *@

@(id:String, doc: play.api.libs.json.JsValue, i: Int = -1, hits: Seq[String] = Seq())

@import play.api.libs.json._
@import views.TableRow
@import controllers.resources.Lobid
@import scala.collection.immutable.Map
@import controllers.resources.Application

@optional(doc: JsValue, key: String, sep: String, alt: String)=@{
    val other = (doc \\ key )
    if(!other.isEmpty){
        sep + other(0).asOpt[String].getOrElse(other(0).as[Seq[JsValue]].map(_.as[String]).mkString("; "))
    } else {alt}
}

<tr>
  <td></td>
  <td> <a href="@resources.routes.Application.resource(id,"json")">
    @optional(doc, "700n1b", "", "<Kein 700n1b>")
    @optional(doc, "700n1a", " | ", "")
    @optional(doc, "700n-b", "", "")
    @optional(doc, "700n-a", " | ", "")</a>
  </td>
  <td style="text-align: right"> @id </td>
  <td style="text-align: right"> </td>
  <td style="text-align: right"> @tags.star_button(id) </td>
</tr>
